{"remainingRequest":"C:\\Users\\IDANGELES\\Documents\\UD\\Tesis\\WEB\\Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\IDANGELES\\Documents\\UD\\Tesis\\WEB\\Front\\src\\components\\DialogUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\IDANGELES\\Documents\\UD\\Tesis\\WEB\\Front\\src\\components\\DialogUser.vue","mtime":1596340944079},{"path":"C:\\Users\\IDANGELES\\Documents\\UD\\Tesis\\WEB\\Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\IDANGELES\\Documents\\UD\\Tesis\\WEB\\Front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\IDANGELES\\Documents\\UD\\Tesis\\WEB\\Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\IDANGELES\\Documents\\UD\\Tesis\\WEB\\Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\IDANGELES\\Documents\\UD\\Tesis\\WEB\\Front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBwb3N0UmVxdWVzdCB9IGZyb20gJ0AvcGx1Z2lucy9hcGkuanMnDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgc2VsZWN0ZWRVc2VyOiB7DQogICAgICB0eXBlOiBPYmplY3QNCiAgICB9LA0KICAgIHRpdGxlOiB7DQogICAgICB0eXBlOiBOdW1iZXINCiAgICB9LA0KICAgIHJvbGVzOiB7DQogICAgICB0eXBlOiBBcnJheQ0KICAgIH0sDQogICAgcGlzY2ljb2xhczogew0KICAgICAgdHlwZTogQXJyYXkNCiAgICB9LA0KICAgIHRhZzogew0KICAgICAgdHlwZTogU3RyaW5nDQogICAgfSwNCiAgICB2YWx1ZTogew0KICAgICAgdHlwZTogQm9vbGVhbg0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHt9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBlZGl0ZWRJdGVtOiB7DQogICAgICAgIG5vbWJyZV91c3VhcmlvOiAnJywNCiAgICAgICAgdGVsZWZvbm86IG51bGwsDQogICAgICAgIGNvcnJlbzogJycsDQogICAgICAgIGNvbnRyYXNlbmE6ICcnLA0KICAgICAgICBpZF9yb2w6IG51bGwsDQogICAgICAgIGlkX3Bpc2NpY29sYXM6IG51bGwNCiAgICAgIH0sDQogICAgICBkZWZhdWx0SXRlbTogew0KICAgICAgICBub21icmVfdXN1YXJpbzogJycsDQogICAgICAgIHRlbGVmb25vOiBudWxsLA0KICAgICAgICBjb3JyZW86ICcnLA0KICAgICAgICBjb250cmFzZW5hOiAnJywNCiAgICAgICAgaWRfcm9sOiBudWxsLA0KICAgICAgICBpZF9waXNjaWNvbGFzOiBudWxsDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlVXNlcigpIHsNCiAgICAgIC8vZXN0byBlcyBkZSB2aXZpDQogICAgICAvL2lndWFhIGVsIHYtbW9kZWwgY29uIGxhIGluZm8gZGUgc2VsZWN0ZWQgdXNlciBxdWUgbGUgbGxlZ2EgZGVsIHBhZHJlDQogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNlbGVjdGVkVXNlcikNCiAgICAgIHRoaXMuZWRpdGVkSXRlbS5jb250cmFzZW5hID0gJycNCiAgICB9LA0KICAgIGNyZWF0ZVVzZXIoKSB7DQogICAgICBjb25zdCBkYXRhID0gew0KICAgICAgICBub21icmVfdXN1YXJpbzogdGhpcy5lZGl0ZWRJdGVtLm5vbWJyZV91c3VhcmlvLA0KICAgICAgICB0ZWxlZm9ubzogdGhpcy5lZGl0ZWRJdGVtLnRlbGVmb25vLA0KICAgICAgICBjb3JyZW86IHRoaXMuZWRpdGVkSXRlbS5jb3JyZW8sDQogICAgICAgIGNvbnRyYXNlbmE6IHRoaXMuZWRpdGVkSXRlbS5jb250cmFzZW5hLA0KICAgICAgICBpZF9yb2w6IHRoaXMuZWRpdGVkSXRlbS5pZF9yb2wsDQogICAgICAgIGlkX3Bpc2NpY29sYXM6IHRoaXMuZWRpdGVkSXRlbS5pZF9waXNjaWNvbGFzLnZhbHVlDQogICAgICB9DQogICAgICBjb25zb2xlLmxvZyhkYXRhKQ0KICAgICAgcG9zdFJlcXVlc3QoJ2NyZWF0ZV91c2VyJywgZGF0YSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlcyA9PSAyMDApIHsNCiAgICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhLm1zZykNCiAgICAgICAgICB0aGlzLmNsb3NlKCkNCiAgICAgICAgfSBlbHNlIGFsZXJ0KHJlc3BvbnNlLmRhdGEubXNnKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGVkaXRVc2VyKCkgew0KICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgbm9tYnJlX3VzdWFyaW86IHRoaXMuZWRpdGVkSXRlbS5ub21icmVfdXN1YXJpbywNCiAgICAgICAgdGVsZWZvbm86IHRoaXMuZWRpdGVkSXRlbS50ZWxlZm9ubywNCiAgICAgICAgY29ycmVvOiB0aGlzLmVkaXRlZEl0ZW0uY29ycmVvLA0KICAgICAgICBjb250cmFzZW5hOiB0aGlzLmVkaXRlZEl0ZW0uY29udHJhc2VuYSwNCiAgICAgICAgaWRfcm9sOiB0aGlzLmVkaXRlZEl0ZW0uaWRfcm9sLA0KICAgICAgICBpZF9waXNjaWNvbGFzOiB0aGlzLmVkaXRlZEl0ZW0uaWRfcGlzY2ljb2xhcy52YWx1ZQ0KICAgICAgfQ0KICAgICAgcG9zdFJlcXVlc3QoJ2VkaXRfdXNlcicsIGRhdGEpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXMgPT0gMjAwKSB7DQogICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YS5tc2cpDQogICAgICAgICAgdGhpcy5jbG9zZSgpDQogICAgICAgIH0gZWxzZSBhbGVydChyZXNwb25zZS5kYXRhLm1zZykNCiAgICAgIH0pDQogICAgfSwNCiAgICBjbG9zZSgpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZVVzZXJzJykNCiAgICAgIHRoaXMuc2hvd0RpYWxvZ1VzZXIgPSBmYWxzZQ0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHNhdmUoKSB7DQogICAgICBpZiAodGhpcy50aXRsZSA+IC0xKSB7DQogICAgICAgIHRoaXMuZWRpdFVzZXIoKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5jcmVhdGVVc2VyKCkNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgZm9ybVRpdGxlKCkgew0KICAgICAgdGhpcy51cGRhdGVVc2VyKCkNCiAgICAgIHJldHVybiB0aGlzLnRpdGxlID09PSAtMSA/ICdOdWV2byBVc3VhcmlvJyA6ICdFZGl0YXIgVXN1YXJpbycNCiAgICB9LA0KICAgIHNob3dEaWFsb2dVc2VyOiB7DQogICAgICBnZXQoKSB7DQogICAgICAgIHJldHVybiB0aGlzLnZhbHVlDQogICAgICB9LA0KICAgICAgc2V0KHYpIHsNCiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2KQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["DialogUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DialogUser.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-dialog persistent max-width=\"425px\" v-model=\"showDialogUser\">\r\n    <v-card>\r\n      <v-card-title>{{ formTitle }}</v-card-title>\r\n      <v-card-text>\r\n        <v-container>\r\n          <v-row>\r\n            <v-col cols=\"12\">\r\n              <v-text-field\r\n                color=\"#325d79\"\r\n                label=\"Nombre de usuario*\"\r\n                outlined\r\n                v-model=\"editedItem.nombre_usuario\"\r\n                required\r\n              ></v-text-field>\r\n            </v-col>\r\n            <v-col cols=\"12\">\r\n              <v-text-field\r\n                color=\"#325d79\"\r\n                label=\"Correo*\"\r\n                outlined\r\n                v-model=\"editedItem.correo\"\r\n                required\r\n              ></v-text-field>\r\n            </v-col>\r\n            <v-col cols=\"12\">\r\n              <v-text-field\r\n                color=\"#325d79\"\r\n                label=\"Telefono\"\r\n                outlined\r\n                v-model.number=\"editedItem.telefono\"\r\n              ></v-text-field>\r\n            </v-col>\r\n            <v-col cols=\"12\">\r\n              <v-text-field\r\n                color=\"#325d79\"\r\n                label=\"Contraseña*\"\r\n                type=\"password\"\r\n                outlined\r\n                v-model=\"editedItem.contrasena\"\r\n                required\r\n              ></v-text-field>\r\n            </v-col>\r\n            <v-col cols=\"6\">\r\n              <v-select\r\n                color=\"#325d79\"\r\n                :items=\"roles\"\r\n                label=\"Rol de Usuario*\"\r\n                outlined\r\n                v-model=\"editedItem.id_rol\"\r\n                required\r\n                v-if=\"tag !== 'myUser'\"\r\n              ></v-select>\r\n            </v-col>\r\n            <v-col cols=\"6\">\r\n              <v-combobox\r\n                color=\"#325d79\"\r\n                :items=\"piscicolas\"\r\n                label=\"Piscícola\"\r\n                outlined\r\n                v-model=\"editedItem.id_piscicolas\"\r\n                v-if=\"tag !== 'myUser'\"\r\n              ></v-combobox>\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n        <small> * campo obligatorio </small>\r\n      </v-card-text>\r\n      <v-card-actions vuetify-center>\r\n        <v-btn text color=\"orange\" dark class=\"pa-auto ml-auto\" @click=\"close()\"\r\n          >CANCELAR</v-btn\r\n        >\r\n        <v-btn text color=\"orange\" dark class=\"px-6 mr-auto\" @click=\"save()\"\r\n          >GUARDAR</v-btn\r\n        >\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n<script>\r\nimport { postRequest } from '@/plugins/api.js'\r\nexport default {\r\n  props: {\r\n    selectedUser: {\r\n      type: Object\r\n    },\r\n    title: {\r\n      type: Number\r\n    },\r\n    roles: {\r\n      type: Array\r\n    },\r\n    piscicolas: {\r\n      type: Array\r\n    },\r\n    tag: {\r\n      type: String\r\n    },\r\n    value: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  created() {},\r\n  data() {\r\n    return {\r\n      editedItem: {\r\n        nombre_usuario: '',\r\n        telefono: null,\r\n        correo: '',\r\n        contrasena: '',\r\n        id_rol: null,\r\n        id_piscicolas: null\r\n      },\r\n      defaultItem: {\r\n        nombre_usuario: '',\r\n        telefono: null,\r\n        correo: '',\r\n        contrasena: '',\r\n        id_rol: null,\r\n        id_piscicolas: null\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    updateUser() {\r\n      //esto es de vivi\r\n      //iguaa el v-model con la info de selected user que le llega del padre\r\n      this.editedItem = Object.assign({}, this.selectedUser)\r\n      this.editedItem.contrasena = ''\r\n    },\r\n    createUser() {\r\n      const data = {\r\n        nombre_usuario: this.editedItem.nombre_usuario,\r\n        telefono: this.editedItem.telefono,\r\n        correo: this.editedItem.correo,\r\n        contrasena: this.editedItem.contrasena,\r\n        id_rol: this.editedItem.id_rol,\r\n        id_piscicolas: this.editedItem.id_piscicolas.value\r\n      }\r\n      console.log(data)\r\n      postRequest('create_user', data).then(response => {\r\n        if (response.data.res == 200) {\r\n          alert(response.data.msg)\r\n          this.close()\r\n        } else alert(response.data.msg)\r\n      })\r\n    },\r\n    editUser() {\r\n      const data = {\r\n        nombre_usuario: this.editedItem.nombre_usuario,\r\n        telefono: this.editedItem.telefono,\r\n        correo: this.editedItem.correo,\r\n        contrasena: this.editedItem.contrasena,\r\n        id_rol: this.editedItem.id_rol,\r\n        id_piscicolas: this.editedItem.id_piscicolas.value\r\n      }\r\n      postRequest('edit_user', data).then(response => {\r\n        if (response.data.res == 200) {\r\n          alert(response.data.msg)\r\n          this.close()\r\n        } else alert(response.data.msg)\r\n      })\r\n    },\r\n    close() {\r\n      this.$emit('updateUsers')\r\n      this.showDialogUser = false\r\n      this.$nextTick(() => {\r\n        this.editedItem = Object.assign({}, this.defaultItem)\r\n      })\r\n    },\r\n    save() {\r\n      if (this.title > -1) {\r\n        this.editUser()\r\n      } else {\r\n        this.createUser()\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    formTitle() {\r\n      this.updateUser()\r\n      return this.title === -1 ? 'Nuevo Usuario' : 'Editar Usuario'\r\n    },\r\n    showDialogUser: {\r\n      get() {\r\n        return this.value\r\n      },\r\n      set(v) {\r\n        this.$emit('input', v)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"]}]}